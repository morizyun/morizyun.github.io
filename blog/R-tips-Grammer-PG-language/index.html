
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>「R Tips」で学ぶ R言語のプログラミング的Tips - 酒と泪とRubyとRailsと</title>
  <meta name="author" content="morizyun">

  
  <meta name="description" content="統計学やR言語を勉強していく過程で、R言語のプログラミング的な側面や言語仕様をちゃんと理解したいと思うようになりました。ということでチャンレンジしたのが、『R-Tips』です。 このサイトはいくつかのトピックに分かれているので、自分のRの使い方に合わせて勉強しやすくなっています。 &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://morizyun.github.io/blog/R-tips-Grammer-PG-language/">
  <link rel="shortcut icon" href="/favicon.ico">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/stylesheets/gh-buttons.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/stylesheets/table.css" rel="stylesheet" type="text/css" />
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="http://feeds.feedburner.com/rubyrails" rel="alternate" title="酒と泪とRubyとRailsと" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-36299115-2']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


  <meta property="og:title" content="「R Tips」で学ぶ R言語のプログラミング的Tips - 酒と泪とRubyとRailsと" />
<meta property="og:description" content="統計学やR言語を勉強していく過程で、R言語のプログラミング的な側面や言語仕様をちゃんと理解したいと思うようになりました。ということでチャンレンジしたのが、『R-Tips』です。 このサイトはいくつかのトピックに分かれているので、自分のRの使い方に合わせて勉強しやすくなっています。 &hellip;" />
<meta property="og:url" content="http://morizyun.github.io/blog/R-tips-Grammer-PG-language/" />
<meta property="og:image" content="http://morizyun.github.io/images/default_ogp_image.png" />
<meta property="og:author" content="zyunnosuke" />
<meta property="og:site_name" content="酒と泪とRubyとRailsと" />
<meta property="og:locale" content="ja_JP" />
<meta property="og:type" content="article" />
<meta property="fb:app_id" content="183897648417956" />
</head>

<body   >
  <header role="banner"><hgroup>
  <h1>
    <a href="/">酒と泪とRubyとRailsと</a>
  </h1>
  
    <h2>Ruby on Rails と Objective-C は酒の肴です！</h2>
  
</hgroup>
<script language="JavaScript">
  $(document).ready( function () {
     $("a[href^='http']:not([href*='" + location.hostname + "'])").attr('target', '_blank');
     })
</script>
</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="http://feeds.feedburner.com/rubyrails" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:morizyun.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Home</a></li>
  <li><a href="/blog/ruby-design-pattern-matome-mokuzi/">Rubyデザインパターン</a></li>
  <li><a href="/blog/centos63-sakura-vps-rails-setup-guide/">Railsサーバ構築手順</a></li>
  <li><a href="https://coderwall.com/p/u/morizyun" target="_blank">English</a></li>
</ul>
</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">「R Tips」で学ぶ R言語のプログラミング的Tips</h1>
    
    
    
      <p class="meta" style="top: -25px;">
    
        








  



        <time datetime="2014-03-22T10:50:00+09:00" pubdate data-updated="true">Mar 22<span>nd</span>, 2014</time>
<span class="sharing social_box" style="margin: 10px 0 0 10px; display: inline-table;">
  <ul class="social" style="margin-left: 0;margin-top: 10px;">
    <li class="hatena">
      <a href="http://b.hatena.ne.jp/entry/http://morizyun.github.io/blog/R-tips-Grammer-PG-language/" class="hatena-bookmark-button" data-hatena-bookmark-layout="standard" title="このエントリーをはてなブックマークに追加"><img src="http://b.st-hatena.com/images/entry-button/button-only.gif" alt="このエントリーをはてなブックマークに追加" width="20" height="20" style="border: none;" /></a><script type="text/javascript" src="http://b.st-hatena.com/js/bookmark_button.js" charset="utf-8" async="async"></script>
    </li>
    <li class="twitter">
      
      <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://morizyun.github.io/blog/R-tips-Grammer-PG-language/" data-via="zyunnosuke" data-counturl="http://morizyun.github.io/blog/R-tips-Grammer-PG-language/" >Tweet</a>
      
    </li>
    <li class="facebook">
      <div class="fb-like" data-send="false" data-layout="button_count" data-show-faces="false" data-font="verdana" data-href="http://morizyun.github.io/blog/R-tips-Grammer-PG-language/"></div>
    </li>
  </ul>
</span>

        
      </p>
    
  </header>


<div class="entry-content"><p><a href="http://www.amazon.co.jp/gp/product/4274067831/ref=as_li_qf_sp_asin_il?ie=UTF8&camp=247&creative=1211&creativeASIN=4274067831&linkCode=as2&tag=morizyun00-22"><img border="0" src="http://ws.assoc-amazon.jp/widgets/q?_encoding=UTF8&ASIN=4274067831&Format=_SL160_&ID=AsinImage&MarketPlace=JP&ServiceVersion=20070822&WS=1&tag=morizyun00-22" width="150" style="float: left; margin: 0 20px 20px 0;" ></a><img src="http://www.assoc-amazon.jp/e/ir?t=morizyun00-22&l=as2&o=9&a=4274067831" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />統計学やR言語を勉強していく過程で、R言語のプログラミング的な側面や言語仕様をちゃんと理解したいと思うようになりました。ということでチャンレンジしたのが、『<strong><a href="http://cse.naro.affrc.go.jp/takezawa/r-tips/r.html">R-Tips</a></strong>』です。</p>

<p>このサイトはいくつかのトピックに分かれているので、自分のRの使い方に合わせて勉強しやすくなっています。まだまだ前半戦ですが、特に覚えておきたいコマンドを中心にメモを書いていきます。</p>

<p><strong>(03/22 10:50) 回帰分析部分の説明を追記</strong><br/></p>

<!-- more -->


<br style="clear:both;"/>


<div>
  <script type="text/javascript"><!--
  google_ad_client = "ca-pub-4186413323075068";
  /* middle_yoko_naga2 */
  google_ad_slot = "4362325392";
  google_ad_width = 728;
  google_ad_height = 90;
  //-->
  </script>
  <script type="text/javascript"
          src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
  </script>
</div>


<h3>Rの便利なメソッド</h3>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>x &lt;- <span class="s2">&quot;1245&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="c"># 中身についての情報を取得</span>
</span><span class='line'>str<span class="o">(</span>x<span class="o">)</span> <span class="c">#=&gt; chr &quot;1245&quot;</span>
</span><span class='line'>summary<span class="o">(</span>x<span class="o">)</span>
</span><span class='line'><span class="c"># Length     Class      Mode </span>
</span><span class='line'><span class="c"># 1 character character</span>
</span><span class='line'>
</span><span class='line'><span class="c"># 基本的な情報</span>
</span><span class='line'>y &lt;- c<span class="o">(</span>2, 3, 4, 5<span class="o">)</span>
</span><span class='line'>summary<span class="o">(</span>y<span class="o">)</span>
</span><span class='line'><span class="c"># Min. 1st Qu.  Median    Mean 3rd Qu.    Max. </span>
</span><span class='line'><span class="c"># 2.00    2.75    3.50    3.50    4.25    5.00</span>
</span></code></pre></td></tr></table></div></figure>


<h3>ベクトルの生成</h3>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="c"># aからbまでのベクトルを生成 =&gt; a:b</span>
</span><span class='line'>1:10
</span><span class='line'><span class="c">#=&gt; 1  2  3  4  5  6  7  8  9 10</span>
</span><span class='line'>
</span><span class='line'><span class="c"># (a, b)間をn等分するベクトルを生成 =&gt; seq(a, b, length = n)</span>
</span><span class='line'>seq<span class="o">(</span>1, 2, <span class="nv">length</span> <span class="o">=</span> 10<span class="o">)</span>
</span><span class='line'><span class="c"># 1.000000 1.111111 1.222222 1.333333 1.444444</span>
</span><span class='line'><span class="c"># 1.555556 1.666667 1.777778 1.888889 2.000000</span>
</span><span class='line'>
</span><span class='line'><span class="c"># aからbまでcずつ増加するベクトルを生成 =&gt; seq(a, b, by = c)</span>
</span><span class='line'>seq<span class="o">(</span>2, 15, <span class="nv">by</span><span class="o">=</span>3<span class="o">)</span>
</span><span class='line'><span class="c">#=&gt; 2  5  8 11 14</span>
</span><span class='line'>
</span><span class='line'><span class="c"># a:bをc回繰り返すベクトルを生成 =&gt; rep(a:b, times = c)</span>
</span><span class='line'>rep<span class="o">(</span>1:3, <span class="nb">times</span> <span class="o">=</span> 2<span class="o">)</span>
</span><span class='line'><span class="c">#=&gt; 1 2 3 1 2 3</span>
</span><span class='line'>
</span><span class='line'><span class="c"># ベクトル内の値をユニークにする(重複した値を取り除く) =&gt; unique(x)</span>
</span><span class='line'>unique<span class="o">(</span>c<span class="o">(</span>1,2,4,6,3,3,2,1<span class="o">))</span>
</span><span class='line'><span class="c">#=&gt; 1 2 4 6 3</span>
</span><span class='line'>
</span><span class='line'><span class="c"># 0をn個並べたベクトルを生成 </span>
</span><span class='line'>numeric<span class="o">(</span>5<span class="o">)</span>
</span><span class='line'><span class="c">#=&gt; 0 0 0 0 0</span>
</span><span class='line'>
</span><span class='line'>x &lt;- 1:5
</span><span class='line'><span class="c"># 要素の並びを逆順にする</span>
</span><span class='line'>rev<span class="o">(</span>x<span class="o">)</span>
</span><span class='line'><span class="c">#=&gt; 5 4 3 2 1</span>
</span><span class='line'>
</span><span class='line'>y &lt;- 5:1
</span><span class='line'><span class="c"># 要素の並び順を整列させる</span>
</span><span class='line'>sort<span class="o">(</span>y<span class="o">)</span>
</span><span class='line'><span class="c">#=&gt; 1 2 3 4 5</span>
</span></code></pre></td></tr></table></div></figure>


<h3>ベクトル条件</h3>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="c"># どれか一つでも条件をみたすものがあるか？</span>
</span><span class='line'>any<span class="o">(</span>y &gt; 4<span class="o">)</span> <span class="c">#=&gt; TRUE</span>
</span><span class='line'>
</span><span class='line'><span class="c"># すべて条件をみたすか？</span>
</span><span class='line'>all<span class="o">(</span>y &gt; 2<span class="o">)</span> <span class="c">#=&gt; FALSE</span>
</span><span class='line'>
</span><span class='line'><span class="c"># NULLか否か</span>
</span><span class='line'>is.null<span class="o">(</span>NULL<span class="o">)</span> <span class="c">#=&gt; TRUE</span>
</span><span class='line'>
</span><span class='line'><span class="c"># NA(データの欠損)か否か</span>
</span><span class='line'>is.na<span class="o">(</span>NA<span class="o">)</span> <span class="c">#=&gt; TRUE</span>
</span><span class='line'>
</span><span class='line'><span class="c"># NaN(数では表せない)か否か</span>
</span><span class='line'>is.nan<span class="o">(</span>0/0<span class="o">)</span> <span class="c">#=&gt; TRUE</span>
</span><span class='line'>
</span><span class='line'><span class="c"># 有限か否か</span>
</span><span class='line'>is.finite<span class="o">(</span>1<span class="o">)</span> <span class="c">#=&gt; TRUE</span>
</span><span class='line'>
</span><span class='line'><span class="c"># 無限か否か</span>
</span><span class='line'>is.infinite<span class="o">(</span>1/0<span class="o">)</span> <span class="c">#=&gt; TRUE</span>
</span></code></pre></td></tr></table></div></figure>


<h3>ベクトルの中身</h3>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>x &lt;- 1:5
</span><span class='line'><span class="c"># 2-4番目の要素</span>
</span><span class='line'>x<span class="o">[</span>2:4<span class="o">]</span> <span class="c">#=&gt; 2, 3, 4</span>
</span><span class='line'>
</span><span class='line'><span class="c"># 1, 4番目の要素以外を取り出す</span>
</span><span class='line'>x<span class="o">[</span>c<span class="o">(</span>-1,-4<span class="o">)]</span> <span class="c">#=&gt; 2, 3, 5</span>
</span><span class='line'>
</span><span class='line'><span class="c"># 3より大きい要素を取り出す</span>
</span><span class='line'>x<span class="o">[</span>3 &lt; x<span class="o">]</span> <span class="c">#=&gt; 4, 5</span>
</span><span class='line'>
</span><span class='line'><span class="c"># 1より大きく、4より小さい要素を取り出す</span>
</span><span class='line'>x<span class="o">[</span>1 &lt; x &amp; x &lt; 4<span class="o">]</span> <span class="c">#=&gt; 2, 3</span>
</span><span class='line'>
</span><span class='line'>y &lt;- x * 2
</span><span class='line'><span class="c"># 条件を満たす要素の番号を返す</span>
</span><span class='line'><span class="o">(</span>1:length<span class="o">(</span>y<span class="o">))[</span>1 &lt; y &amp; y &lt; 8<span class="o">]</span>
</span><span class='line'><span class="c">#=&gt; 1, 2, 3</span>
</span></code></pre></td></tr></table></div></figure>


<h3>日付</h3>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="c"># 日付型に変換</span>
</span><span class='line'>as.Date<span class="o">(</span><span class="s2">&quot;2012/08/15&quot;</span><span class="o">)</span>
</span><span class='line'><span class="c">#=&gt; &quot;2012-08-15&quot;</span>
</span><span class='line'>as.Date<span class="o">(</span><span class="s2">&quot;20130222&quot;</span>, <span class="nv">format</span><span class="o">=</span><span class="s2">&quot;%Y%m%d&quot;</span><span class="o">)</span>
</span><span class='line'><span class="c">#=&gt; &quot;2013-02-22&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="c"># 現在時刻を日付オブジェクトで取得</span>
</span><span class='line'>today &lt;- Sys.Date<span class="o">()</span>
</span><span class='line'>now &lt;- Sys.time<span class="o">()</span>
</span><span class='line'>
</span><span class='line'><span class="c"># 日付の差分</span>
</span><span class='line'>x &lt;- as.Date<span class="o">(</span>c<span class="o">(</span><span class="s2">&quot;2012/07/01&quot;</span>, <span class="s2">&quot;2009/08/01&quot;</span><span class="o">))</span>
</span><span class='line'>x<span class="o">[</span>2<span class="o">]</span> - x<span class="o">[</span>1<span class="o">]</span>
</span><span class='line'><span class="c">#=&gt; Time difference of -1065 days</span>
</span></code></pre></td></tr></table></div></figure>


<h3>文字列</h3>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="c"># 文字列ベクトルの結合</span>
</span><span class='line'>paste<span class="o">(</span>month.abb, 1:8, c<span class="o">(</span><span class="s2">&quot;st&quot;</span>, <span class="s2">&quot;nd&quot;</span>, <span class="s2">&quot;rd&quot;</span>, rep<span class="o">(</span><span class="s2">&quot;th&quot;</span>,5<span class="o">)))</span>
</span><span class='line'><span class="c"># &quot;Jan 1 st&quot; &quot;Feb 2 nd&quot; &quot;Mar 3 rd&quot; &quot;Apr 4 th&quot; &quot;May 5 th&quot; &quot;Jun 6 th&quot; </span>
</span><span class='line'><span class="c"># &quot;Jul 7 th&quot; &quot;Aug 8 th&quot; &quot;Sep 1 st&quot; &quot;Oct 2 nd&quot; &quot;Nov 3 rd&quot; &quot;Dec 4 th&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="c"># 文字列から特定の部分を切り出し</span>
</span><span class='line'>substring<span class="o">(</span><span class="s2">&quot;defghijklmnopqr&quot;</span>, 3, 7<span class="o">)</span>
</span><span class='line'><span class="c">#=&gt; &quot;fghij&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<h3>データフレーム</h3>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="c"># データフレームの作成</span>
</span><span class='line'>sex &lt;- c<span class="o">(</span>rep<span class="o">(</span><span class="s2">&quot;F&quot;</span>, 3<span class="o">)</span>, rep<span class="o">(</span><span class="s2">&quot;M&quot;</span>, 1<span class="o">))</span>
</span><span class='line'>height &lt;- seq<span class="o">(</span>150, 180, <span class="nv">length</span><span class="o">=</span>4<span class="o">)</span>
</span><span class='line'>weight &lt;- seq<span class="o">(</span>70, 80, <span class="nv">length</span><span class="o">=</span>4<span class="o">)</span>
</span><span class='line'>df &lt;- data.frame<span class="o">(</span>sex, height, weight<span class="o">)</span>
</span><span class='line'><span class="c"># sex height   weight</span>
</span><span class='line'><span class="c"># 1   F    150 70.00000</span>
</span><span class='line'><span class="c"># 2   F    160 73.33333</span>
</span><span class='line'><span class="c"># 3   F    170 76.66667</span>
</span><span class='line'><span class="c"># 4   M    180 80.00000</span>
</span><span class='line'>
</span><span class='line'><span class="c"># データオブジェクトの行数を返す</span>
</span><span class='line'>nrow<span class="o">(</span>df<span class="o">)</span> <span class="c">#=&gt; 4</span>
</span><span class='line'>
</span><span class='line'><span class="c"># summaryでデータフレームの要素の情報を表示</span>
</span><span class='line'>summary<span class="o">(</span>df<span class="o">)</span>
</span><span class='line'><span class="c"># sex       height          weight    </span>
</span><span class='line'><span class="c"># F:3   Min.   :150.0   Min.   :70.0  </span>
</span><span class='line'><span class="c"># M:1   1st Qu.:157.5   1st Qu.:72.5  </span>
</span><span class='line'><span class="c"># Median :165.0   Median :75.0  </span>
</span><span class='line'><span class="c"># Mean   :165.0   Mean   :75.0  </span>
</span><span class='line'><span class="c"># 3rd Qu.:172.5   3rd Qu.:77.5  </span>
</span><span class='line'><span class="c"># Max.   :180.0   Max.   :80.0 </span>
</span><span class='line'>
</span><span class='line'><span class="c"># heightで降順に並べ直し</span>
</span><span class='line'>sort_list &lt;- order<span class="o">(</span>df<span class="nv">$height</span>,decreasing<span class="o">=</span>T<span class="o">)</span>
</span><span class='line'>df<span class="o">[</span>sort_list,<span class="o">]</span>
</span><span class='line'><span class="c"># sex height   weight</span>
</span><span class='line'><span class="c"># 4   M    180 80.00000</span>
</span><span class='line'><span class="c"># 3   F    170 76.66667</span>
</span><span class='line'><span class="c"># 2   F    160 73.33333</span>
</span><span class='line'><span class="c"># 1   F    150 70.00000</span>
</span><span class='line'>
</span><span class='line'><span class="c"># typeカラムに条件に応じてBIG, MIDDLE, SMALL</span>
</span><span class='line'>df<span class="nv">$type</span> &lt;- ifelse<span class="o">(</span>height &gt;<span class="o">=</span> 170, <span class="s2">&quot;BIG&quot;</span>, ifelse<span class="o">(</span>height&gt;<span class="o">=</span>160, <span class="s2">&quot;MIDDLE&quot;</span>, <span class="s2">&quot;SMALL&quot;</span><span class="o">))</span>
</span><span class='line'><span class="c"># sex height   weight   type</span>
</span><span class='line'><span class="c"># 1   F    150 70.00000  SMALL</span>
</span><span class='line'><span class="c"># 2   F    160 73.33333 MIDDLE</span>
</span><span class='line'><span class="c"># 3   F    170 76.66667    BIG</span>
</span><span class='line'><span class="c"># 4   M    180 80.00000    BIG</span>
</span><span class='line'>
</span><span class='line'><span class="c"># 一律でheight_mmカラムを追加</span>
</span><span class='line'>transform<span class="o">(</span>df, <span class="nv">height_mm</span><span class="o">=</span>df<span class="nv">$height</span>*100<span class="o">)</span>
</span><span class='line'><span class="c"># sex height   weight   type height_mm</span>
</span><span class='line'><span class="c"># 1   F    150 70.00000  SMALL     15000</span>
</span><span class='line'><span class="c"># 2   F    160 73.33333 MIDDLE     16000</span>
</span><span class='line'><span class="c"># 3   F    170 76.66667    BIG     17000</span>
</span><span class='line'><span class="c"># 4   M    180 80.00000    BIG     18000</span>
</span><span class='line'>
</span><span class='line'><span class="c"># 行番号を追加</span>
</span><span class='line'>df<span class="nv">$id</span> &lt;- row.names<span class="o">(</span>df<span class="o">)</span>
</span><span class='line'><span class="c"># sex height   weight   type id</span>
</span><span class='line'><span class="c"># 1   F    150 70.00000  SMALL  1</span>
</span><span class='line'><span class="c"># 2   F    160 73.33333 MIDDLE  2</span>
</span><span class='line'><span class="c"># 3   F    170 76.66667    BIG  3</span>
</span><span class='line'><span class="c"># 4   M    180 80.00000    BIG  4</span>
</span><span class='line'>
</span><span class='line'><span class="c"># 行方向の結合</span>
</span><span class='line'>cbind<span class="o">(</span>df, df<span class="o">)</span>
</span><span class='line'><span class="c"># sex height   weight   type id sex height   weight   type id</span>
</span><span class='line'><span class="c"># 1   F    150 70.00000  SMALL  1   F    150 70.00000  SMALL  1</span>
</span><span class='line'><span class="c"># 2   F    160 73.33333 MIDDLE  2   F    160 73.33333 MIDDLE  2</span>
</span><span class='line'><span class="c"># 3   F    170 76.66667    BIG  3   F    170 76.66667    BIG  3</span>
</span><span class='line'><span class="c"># 4   M    180 80.00000    BIG  4   M    180 80.00000    BIG  4</span>
</span><span class='line'>
</span><span class='line'><span class="c"># 列方向の結合</span>
</span><span class='line'>rbind<span class="o">(</span>df, df<span class="o">)</span>
</span><span class='line'><span class="c"># sex height   weight   type id</span>
</span><span class='line'><span class="c"># 1   F    150 70.00000  SMALL  1</span>
</span><span class='line'><span class="c"># 2   F    160 73.33333 MIDDLE  2</span>
</span><span class='line'><span class="c"># 3   F    170 76.66667    BIG  3</span>
</span><span class='line'><span class="c"># 4   M    180 80.00000    BIG  4</span>
</span><span class='line'><span class="c"># 5   F    150 70.00000  SMALL  1</span>
</span><span class='line'><span class="c"># 6   F    160 73.33333 MIDDLE  2</span>
</span><span class='line'><span class="c"># 7   F    170 76.66667    BIG  3</span>
</span><span class='line'><span class="c"># 8   M    180 80.00000    BIG  4</span>
</span></code></pre></td></tr></table></div></figure>


<h2>サンプルデータセット</h2>

<p>Rで勉強していく上で、避けて通れないのがサンプルデータの確保です。Rにはデフォルトで複数のデータセットが格納されています。『<strong><a href="http://d.hatena.ne.jp/hoxo_m/20120214/p1">統計を学びたい人へ贈る、統計解析に使えるデータセットまとめ</a></strong>』に初心者におすすめなデータがまとめられています！</p>

<h2>データセットを使った集計・グラフ表示</h2>

<p>デフォルトのデータセットのあやめのデータ(iris)を使って、いくつかサンプルを書いていきます。</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="c"># irisはあやめのデータ・セット</span>
</span><span class='line'>width_set &lt;- iris<span class="o">[</span>,c<span class="o">(</span><span class="s2">&quot;Sepal.Length&quot;</span>, <span class="s2">&quot;Petal.Length&quot;</span>, <span class="s2">&quot;Species&quot;</span><span class="o">)]</span>
</span><span class='line'>width_large &lt;- width_set<span class="o">[</span>width_set<span class="nv">$Species</span> <span class="o">==</span> <span class="s2">&quot;versicolor&quot;</span>,<span class="o">]</span>
</span><span class='line'>mean<span class="o">(</span>width_large<span class="nv">$Petal</span>.Length<span class="o">)</span> <span class="c">#=&gt; 4.26</span>
</span><span class='line'>
</span><span class='line'><span class="c"># plyrパッケージの導入</span>
</span><span class='line'><span class="c"># plyr : データフレームの加工をしやすくするパッケージ</span>
</span><span class='line'>install.packages<span class="o">(</span><span class="s2">&quot;plyr&quot;</span><span class="o">)</span>
</span><span class='line'>library<span class="o">(</span><span class="s2">&quot;plyr&quot;</span><span class="o">)</span>
</span><span class='line'>
</span><span class='line'><span class="c"># irisのデータからSpeciesをキーにSepal.Length(がくの長さ)の平均を出す</span>
</span><span class='line'>data &lt;- ddply<span class="o">(</span>iris, .<span class="o">(</span>Species<span class="o">)</span>, summarise, Sepal.Length.Average<span class="o">=</span>mean<span class="o">(</span>Sepal.Length<span class="o">))</span>
</span><span class='line'><span class="c"># Species Sepal.Length.Average</span>
</span><span class='line'><span class="c"># 1     setosa                5.006</span>
</span><span class='line'><span class="c"># 2 versicolor                5.936</span>
</span><span class='line'><span class="c"># 3  virginica                6.588</span>
</span><span class='line'>
</span><span class='line'><span class="c"># Sepal.Length(がくの長さ)の平均順でならべ直す</span>
</span><span class='line'>arrange<span class="o">(</span>data, desc<span class="o">(</span>Sepal.Length.Average<span class="o">))</span>
</span><span class='line'><span class="c"># Species Sepal.Length.Average</span>
</span><span class='line'><span class="c"># 1  virginica                6.588</span>
</span><span class='line'><span class="c"># 2 versicolor                5.936</span>
</span><span class='line'><span class="c"># 3     setosa                5.006</span>
</span><span class='line'>
</span><span class='line'><span class="c"># 棒グラフ</span>
</span><span class='line'><span class="c"># 棒グラフは「月ごとの販売実績」のように書くカテゴリの度数や比率を表示するために利用する</span>
</span><span class='line'>index &lt;- iris<span class="nv">$Sepal</span>.Length &gt; 5.5
</span><span class='line'>dat &lt;- iris<span class="o">[</span>index,<span class="o">]</span>
</span><span class='line'>xtabs<span class="o">(</span>~Species, <span class="nv">data</span><span class="o">=</span>dat, drop.unused.levels<span class="o">=</span>T<span class="o">)</span>
</span><span class='line'><span class="c"># Species</span>
</span><span class='line'><span class="c"># setosa versicolor  virginica </span>
</span><span class='line'><span class="c"># 3         39         49</span>
</span><span class='line'>qplot<span class="o">(</span>Species, <span class="nv">data</span><span class="o">=</span>dat, <span class="nv">geom</span><span class="o">=</span><span class="s2">&quot;bar&quot;</span><span class="o">)</span>
</span></code></pre></td></tr></table></div></figure>


<p><img src="http://farm8.staticflickr.com/7298/13000340725_82a36b0b98.jpg" width="413" height="439" alt="Rplot01"></p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="c"># ヒストグラム</span>
</span><span class='line'><span class="c"># 身長・成績・人口などのように連続量のデータの度数(割合)を表示する</span>
</span><span class='line'>qplot<span class="o">(</span>Sepal.Length, <span class="nv">data</span><span class="o">=</span>iris, <span class="nv">geom</span><span class="o">=</span><span class="s2">&quot;histogram&quot;</span>, <span class="nv">binwidth</span><span class="o">=</span>0.5, <span class="nv">xlim</span><span class="o">=</span>c<span class="o">(</span>4,8<span class="o">))</span>
</span></code></pre></td></tr></table></div></figure>


<p><img src="http://farm3.staticflickr.com/2581/13000752024_5542498537.jpg" width="413" height="439" alt="Rplot"></p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="c"># 箱ひげ図</span>
</span><span class='line'><span class="c"># カテゴリごとの中央値、箱、ヒゲ、外れ値を表示。ヒストグラムの簡略版</span>
</span><span class='line'><span class="c"># 1つが複数カテゴリのデータ、もう一つが連続量の場合に用いる</span>
</span><span class='line'>qplot<span class="o">(</span>Species, Sepal.Length, <span class="nv">data</span><span class="o">=</span>iris, <span class="nv">geom</span><span class="o">=</span><span class="s2">&quot;boxplot&quot;</span><span class="o">)</span>
</span></code></pre></td></tr></table></div></figure>


<p><img src="http://farm4.staticflickr.com/3671/13000403615_dc98e591a0.jpg" width="413" height="439" alt="Rplot02"></p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="c"># 散布図</span>
</span><span class='line'><span class="c"># 2つの変数の値に従って座標平面上に複数の点を表示</span>
</span><span class='line'><span class="c"># 2つの変数がともに連続量の場合に用いる</span>
</span><span class='line'>index &lt;- iris<span class="nv">$Species</span> !<span class="o">=</span> <span class="s1">&#39;virginica&#39;</span>
</span><span class='line'>dat &lt;- iris<span class="o">[</span>index,<span class="o">]</span>
</span><span class='line'>qplot<span class="o">(</span>Sepal.Length, Petal.Length, <span class="nv">data</span><span class="o">=</span>iris, <span class="nv">geom</span><span class="o">=</span>c<span class="o">(</span><span class="s2">&quot;point&quot;</span>, <span class="s2">&quot;smooth&quot;</span><span class="o">)</span>, <span class="nv">color</span><span class="o">=</span>Species<span class="o">)</span>
</span></code></pre></td></tr></table></div></figure>


<p><img src="http://farm8.staticflickr.com/7353/13000607723_53c89f2449.jpg" width="413" height="439" alt="Rplot03"></p>

<h2>サンプルデータを使った単回帰分析</h2>

<p>サンプルデータを知らなすぎて、あまり適切な分析ではないですが、手元にある範囲内で。</p>

<h3>キーワード</h3>

<pre>
独立変数: 原因となる変数
従属変数: 性質を明らかにしたい側の変数
単回帰分析: 独立変数が1つの分析
重回帰分析: 独立変数が2つ以上の分析
</pre>




<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="c"># データ・セットを使った回帰分析のサンプル</span>
</span><span class='line'>library<span class="o">(</span>ggplot2<span class="o">)</span>
</span><span class='line'>qplot<span class="o">(</span>Petal.Length, <span class="nv">data</span><span class="o">=</span>dat, <span class="nv">geom</span><span class="o">=</span><span class="s2">&quot;histogram&quot;</span>, <span class="nv">bandwith</span><span class="o">=</span>0.5, <span class="nv">xlim</span><span class="o">=</span>c<span class="o">(</span>3,6<span class="o">))</span>
</span></code></pre></td></tr></table></div></figure>


<p><img src="http://farm8.staticflickr.com/7044/13155728714_9b43830cb0_o.png" /></p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>index &lt;- iris<span class="nv">$Species</span> <span class="o">==</span> <span class="s1">&#39;versicolor&#39;</span>
</span><span class='line'>dat &lt;- iris<span class="o">[</span>index,<span class="o">]</span>
</span><span class='line'>result &lt;- glm<span class="o">(</span>Sepal.Length~Petal.Length, <span class="nv">data</span><span class="o">=</span>dat, <span class="nv">family</span><span class="o">=</span>gaussian<span class="o">)</span>
</span><span class='line'>summary<span class="o">(</span>result<span class="o">)</span>
</span><span class='line'><span class="c"># glm(formula = Sepal.Length ~ Petal.Length, family = gaussian, </span>
</span><span class='line'><span class="c">#     data = dat)</span>
</span><span class='line'><span class="c"># </span>
</span><span class='line'><span class="c"># Deviance Residuals: </span>
</span><span class='line'><span class="c">#   Min        1Q    Median        3Q       Max  </span>
</span><span class='line'><span class="c"># -0.73479  -0.20272  -0.02065   0.26092   0.69956  </span>
</span><span class='line'><span class="c"># </span>
</span><span class='line'><span class="c"># Coefficients:</span>
</span><span class='line'><span class="c">#   Estimate Std. Error t value Pr(&gt;|t|)    </span>
</span><span class='line'><span class="c"># (Intercept)    2.4075     0.4463   5.395 2.08e-06 ***</span>
</span><span class='line'><span class="c">#   Petal.Length   0.8283     0.1041   7.954 2.59e-10 ***</span>
</span><span class='line'><span class="c">#   ---</span>
</span><span class='line'><span class="c">#   Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1</span>
</span><span class='line'><span class="c"># </span>
</span><span class='line'><span class="c"># (Dispersion parameter for gaussian family taken to be 0.1173364)</span>
</span><span class='line'><span class="c"># </span>
</span><span class='line'><span class="c"># Null deviance: 13.0552  on 49  degrees of freedom</span>
</span><span class='line'><span class="c"># Residual deviance:  5.6321  on 48  degrees of freedom</span>
</span><span class='line'><span class="c"># AIC: 38.717</span>
</span><span class='line'><span class="c"># </span>
</span><span class='line'><span class="c"># Number of Fisher Scoring iterations: 2</span>
</span><span class='line'><span class="c">#=&gt; 回帰式 y = ax + bで a = 2.4075, b = 0.8283</span>
</span><span class='line'><span class="c">#=&gt; Coefficientsの最後が信頼度。&#39;***&#39;なので高い</span>
</span></code></pre></td></tr></table></div></figure>


<h2>適切な回帰分析式の比較</h2>

<h3>AIC : 赤池情報量規準</h3>

<p>統計モデルの良さを評価するための指標。</p>

<h3>統計モデルの比較</h3>

<p>こちらも素人のトライなので、ツッコミお待ちしております！</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>library<span class="o">(</span>ggplot2<span class="o">)</span>
</span><span class='line'><span class="c"># 単純にヒストグラムでプロット</span>
</span><span class='line'>qplot<span class="o">(</span>Volume, <span class="nv">data</span><span class="o">=</span>trees, <span class="nv">geom</span><span class="o">=</span><span class="s2">&quot;histogram&quot;</span>, <span class="nv">bandwith</span><span class="o">=</span>5, <span class="nv">xlim</span><span class="o">=</span>c<span class="o">(</span>10,80<span class="o">))</span>
</span></code></pre></td></tr></table></div></figure>


<p><img src="http://farm3.staticflickr.com/2741/13155614675_20ae60951c.jpg" width="413" height="439" alt="Rplot"></p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="c"># 対数をとってヒストグラムでプロット</span>
</span><span class='line'>qplot<span class="o">(</span>log<span class="o">(</span>Volume<span class="o">)</span>, <span class="nv">data</span><span class="o">=</span>trees, <span class="nv">geom</span><span class="o">=</span><span class="s2">&quot;histogram&quot;</span>, <span class="nv">bandwith</span><span class="o">=</span>0.2, <span class="nv">xlim</span><span class="o">=</span>c<span class="o">(</span>2,5<span class="o">))</span>
</span></code></pre></td></tr></table></div></figure>


<p><img src="http://farm8.staticflickr.com/7146/13156766444_35d1a2b410.jpg" width="413" height="439" alt="Rplot02"></p>

<p>本来は正規分布に従いそうなデータですが、サンプルデータを目視する限りは対数正規分布に近そう。</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>result &lt;- glm<span class="o">(</span>Volume~Girth, <span class="nv">data</span> <span class="o">=</span> trees, <span class="nv">family</span><span class="o">=</span>gaussian<span class="o">)</span>
</span><span class='line'>summary<span class="o">(</span>result<span class="o">)</span>
</span><span class='line'><span class="c"># (Intercept) -36.9435     3.3651  -10.98 7.62e-12 ***</span>
</span><span class='line'><span class="c">#   Girth         5.0659     0.2474   20.48  &lt; 2e-16 ***</span>
</span><span class='line'><span class="c"># AIC: 181.64</span>
</span><span class='line'>
</span><span class='line'>result &lt;- glm<span class="o">(</span>Volume~Girth, <span class="nv">data</span> <span class="o">=</span> trees, <span class="nv">family</span><span class="o">=</span>gaussian<span class="o">(</span><span class="nv">link</span><span class="o">=</span><span class="s2">&quot;log&quot;</span><span class="o">))</span>
</span><span class='line'>summary<span class="o">(</span>result<span class="o">)</span>
</span><span class='line'><span class="c"># (Intercept) 1.340516   0.097224   13.79 2.89e-14 ***</span>
</span><span class='line'><span class="c">#   Girth       0.147910   0.005839   25.33  &lt; 2e-16 ***</span>
</span><span class='line'><span class="c"># AIC: 169.14</span>
</span><span class='line'>
</span><span class='line'>result &lt;- glm<span class="o">(</span>Volume~<span class="o">(</span>Girth+Height<span class="o">)</span>, <span class="nv">data</span> <span class="o">=</span> trees, <span class="nv">family</span><span class="o">=</span>gaussian<span class="o">)</span>
</span><span class='line'>summary<span class="o">(</span>result<span class="o">)</span>
</span><span class='line'><span class="c"># (Intercept) -57.9877     8.6382  -6.713 2.75e-07 ***</span>
</span><span class='line'><span class="c">#   Girth         4.7082     0.2643  17.816  &lt; 2e-16 ***</span>
</span><span class='line'><span class="c">#   Height        0.3393     0.1302   2.607   0.0145 *  </span>
</span><span class='line'><span class="c"># AIC: 176.91</span>
</span><span class='line'>
</span><span class='line'>result &lt;- glm<span class="o">(</span>Volume~<span class="o">(</span>Girth+Height<span class="o">)</span>, <span class="nv">data</span> <span class="o">=</span> trees, <span class="nv">family</span><span class="o">=</span>gaussian<span class="o">(</span><span class="nv">link</span><span class="o">=</span><span class="s2">&quot;log&quot;</span><span class="o">))</span>
</span><span class='line'>summary<span class="o">(</span>result<span class="o">)</span>
</span><span class='line'><span class="c"># (Intercept) 0.679294   0.258124   2.632  0.01366 *  </span>
</span><span class='line'><span class="c">#   Girth       0.134163   0.006845  19.601  &lt; 2e-16 ***</span>
</span><span class='line'><span class="c">#   Height      0.011144   0.003975   2.804  0.00907 ** </span>
</span><span class='line'><span class="c"># AIC: 163.37</span>
</span><span class='line'>
</span><span class='line'><span class="c">#=&gt; 上記4つのAIC(赤池情報量規準)からみると一番最後の回帰式(対数正規分布で独立変数にGirth, Heightをとる)が最も近い</span>
</span></code></pre></td></tr></table></div></figure>


<h2>ポワソン回帰</h2>

<p>ポワソン回帰は離散値かつ、ゼロ以上の範囲のデータを扱うときに利用する。<br/></p>

<p>適切なデータでないんで、雰囲気だけメモ。</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>dat &lt;- InsectSprays
</span><span class='line'>qplot<span class="o">(</span>count, <span class="nv">data</span><span class="o">=</span>dat, <span class="nv">geom</span><span class="o">=</span><span class="s2">&quot;histogram&quot;</span>, <span class="nv">bandwith</span><span class="o">=</span>1, <span class="nv">xlim</span><span class="o">=</span>c<span class="o">(</span>0,30<span class="o">))</span>
</span></code></pre></td></tr></table></div></figure>


<p><img src="http://farm4.staticflickr.com/3680/13319567853_70a00eccfc.jpg" width="413" height="439" alt="Rplot04"></p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>result &lt;- glm<span class="o">(</span>count~spray, <span class="nv">data</span><span class="o">=</span>dat, <span class="nv">family</span><span class="o">=</span>poisson<span class="o">(</span><span class="nv">link</span><span class="o">=</span><span class="s2">&quot;log&quot;</span><span class="o">))</span>
</span><span class='line'>summary<span class="o">(</span>result<span class="o">)</span>
</span><span class='line'><span class="c"># (Intercept)  2.67415    0.07581  35.274  &lt; 2e-16 ***</span>
</span><span class='line'><span class="c">#   sprayB       0.05588    0.10574   0.528    0.597    </span>
</span><span class='line'><span class="c">#   sprayC      -1.94018    0.21389  -9.071  &lt; 2e-16 ***</span>
</span><span class='line'><span class="c">#   sprayD      -1.08152    0.15065  -7.179 7.03e-13 ***</span>
</span><span class='line'><span class="c">#   sprayE      -1.42139    0.17192  -8.268  &lt; 2e-16 ***</span>
</span><span class='line'><span class="c">#   sprayF       0.13926    0.10367   1.343    0.179   </span>
</span><span class='line'><span class="c"># AIC: 376.59</span>
</span></code></pre></td></tr></table></div></figure>


<h2>独立変数の最適化</h2>

<p>複数の独立変数から、Rが効率的なアルゴリズムで自動的にモデル選択をする方法。</p>

<p>適切なサンプルデータで後でリトライする予定。。。</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="c"># 独立変数の最適化</span>
</span><span class='line'>dat &lt;- iris
</span><span class='line'>result &lt;- glm<span class="o">(</span>Petal.Width~Sepal.Length+Sepal.Width+Petal.Length, <span class="nv">data</span> <span class="o">=</span> dat, <span class="nv">family</span><span class="o">=</span>gaussian<span class="o">(</span><span class="nv">link</span><span class="o">=</span><span class="s2">&quot;log&quot;</span><span class="o">))</span>
</span><span class='line'>step<span class="o">(</span>result, <span class="nv">direction</span><span class="o">=</span><span class="s2">&quot;backward&quot;</span><span class="o">)</span>
</span><span class='line'><span class="c"># Start:  AIC=19.47</span>
</span><span class='line'><span class="c"># Petal.Width ~ Sepal.Length + Sepal.Width + Petal.Length</span>
</span><span class='line'><span class="c"># </span>
</span><span class='line'><span class="c"># Df Deviance     AIC</span>
</span><span class='line'><span class="c"># - Sepal.Width   1    9.472  19.337</span>
</span><span class='line'><span class="c"># &lt;none&gt;               9.355  19.469</span>
</span><span class='line'><span class="c"># - Sepal.Length  1   12.225  57.615</span>
</span><span class='line'><span class="c"># - Petal.Length  1   33.293 207.890</span>
</span><span class='line'><span class="c"># </span>
</span><span class='line'><span class="c"># Step:  AIC=19.34</span>
</span><span class='line'><span class="c"># Petal.Width ~ Sepal.Length + Petal.Length</span>
</span><span class='line'><span class="c"># </span>
</span><span class='line'><span class="c"># Df Deviance     AIC</span>
</span><span class='line'><span class="c"># &lt;none&gt;               9.472  19.337</span>
</span><span class='line'><span class="c"># - Sepal.Length  1   12.371  57.394</span>
</span><span class='line'><span class="c"># - Petal.Length  1   38.191 226.476</span>
</span><span class='line'><span class="c"># </span>
</span><span class='line'><span class="c"># Call:  glm(formula = Petal.Width ~ Sepal.Length + Petal.Length, family = gaussian(link = &quot;log&quot;), </span>
</span><span class='line'><span class="c">#            data = dat)</span>
</span><span class='line'><span class="c"># </span>
</span><span class='line'><span class="c"># Coefficients:</span>
</span><span class='line'><span class="c">#   (Intercept)  Sepal.Length  Petal.Length  </span>
</span><span class='line'><span class="c"># -0.3528       -0.2442        0.4752  </span>
</span><span class='line'><span class="c"># </span>
</span><span class='line'><span class="c"># Degrees of Freedom: 149 Total (i.e. Null);  147 Residual</span>
</span><span class='line'><span class="c"># Null Deviance:      86.57 </span>
</span><span class='line'><span class="c"># Residual Deviance: 9.472  AIC: 19.34</span>
</span><span class='line'><span class="c">#</span>
</span><span class='line'><span class="c">#=&gt; 以上より、Petal.Width = -0.2442*Sepal.Length + 0.4752*Petal.Length + -0.3528 がAICでベスト</span>
</span></code></pre></td></tr></table></div></figure>


<h2>ユークリッド距離を使ったクラスタリング</h2>

<p>ユークリッド距離や重心の概念を使ってクラスタリングを行う。</p>

<p>Rに難儀しているので、とりあえず暫定で出来たところまで。使い方を覚えたらちゃんと直したい！</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>library<span class="o">(</span><span class="s2">&quot;plyr&quot;</span><span class="o">)</span>
</span><span class='line'>dat &lt;- InsectSprays
</span><span class='line'>dat2 &lt;- ddply<span class="o">(</span>dat, .<span class="o">(</span>spray<span class="o">)</span>, summarise, <span class="nv">count_ave</span><span class="o">=</span>mean<span class="o">(</span>count<span class="o">))</span>
</span><span class='line'>distw &lt;- dist<span class="o">(</span>dat2, <span class="nv">method</span><span class="o">=</span><span class="s2">&quot;euclidean&quot;</span><span class="o">)</span>
</span><span class='line'>clust &lt;- hclust<span class="o">(</span>distw, <span class="nv">method</span><span class="o">=</span><span class="s2">&quot;ward&quot;</span><span class="o">)</span>
</span><span class='line'>plclust<span class="o">(</span>clust, <span class="nv">hang</span><span class="o">=</span>-1, <span class="nv">xlab</span><span class="o">=</span><span class="s2">&quot;spray&quot;</span>, <span class="nv">ylab</span><span class="o">=</span><span class="s2">&quot;count&quot;</span><span class="o">)</span>
</span></code></pre></td></tr></table></div></figure>


<p><img src="http://farm4.staticflickr.com/3715/13157567135_d51493c391.jpg" width="413" height="439" alt="Rplot03"></p>

<h2>Special Thanks</h2>

<p><strong><a href="http://www.slideshare.net/teramonagi/tokyo-r30-20130420">「plyrパッケージで君も前処理スタ☆」改め「plyrパッケージ徹底入門」</a></strong><br/>
第30回R勉強会＠東京(#TokyoR)の資料</p>

<h2>あとで読む</h2>

<p><strong><a href="http://matome.naver.jp/odai/2134709644082692701">統計・機械学習・データマイニングの無料で読めるPDF資料</a></strong><br/></p>

<blockquote>
オンラインで無料公開されている書籍等のPDF資料をまとめ。
</blockquote>


<p><strong><a href="http://www.r.dl.itc.u-tokyo.ac.jp/node/33">統計的機械学習 | 中川研究室</a></strong><br/></p>

<blockquote>
統計的機械学習とは、観測されたデータから統計的手法を用い新たな知識を導出すること。 統計的機械学習には種々の分類がある、この説明。
</blockquote>


<p><strong><a href="http://www.slideshare.net/pfi/deep-learning-22350063">一般向けのDeep Learning</a></strong><br/></p>

<blockquote>
PFI 全体セミナーで発表した、専門家向けではなく一般向けのDeep Learning（深層学習）の解説です。どのような場面で活躍しているのか、今までの学習手法と何が違うのかを解説しています。
</blockquote>


<p><strong><a href="http://www.toukei-kentei.jp/index.html">統計検定：Japan Statistical Society Certificate</a></strong><br/></p>

<blockquote>
「統計検定」とは、統計に関する知識や活用力を評価する全国統一試験です。 データに基づいて客観的に判断し、科学的に問題を解決する能力は、仕事や研究をするための21世紀型スキルとして国際社会で広く認められています。
</blockquote>


<p><strong><a href="http://gci.t.u-tokyo.ac.jp/tutorial/">チュートリアル | グローバル消費インテリジェンス寄附講座</a></strong><br/></p>

<blockquote>
GCI チュートリアル (Global Consumer Intelligence Tutorial) は、東京大学工学部 松尾豊研究室とグローバル消費インテリジェンス寄附講座の学生のためのチュートリアルです。ウェブと人工知能を活かした研究を行うために必要な技能を身に付けることを目的としています。
</blockquote>




<div>
  <script type="text/javascript"><!--
  google_ad_client = "ca-pub-4186413323075068";
  /* middle_yoko_naga2 */
  google_ad_slot = "4362325392";
  google_ad_width = 728;
  google_ad_height = 90;
  //-->
  </script>
  <script type="text/javascript"
          src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
  </script>
</div>


<h2>変更来歴</h2>

<p>(03/15 10:45) 回帰に関する記述を追記<br/>
(03/21 17:25) データ・フレームを追記<br/>
(03/22 10:50) 回帰分析部分の説明を追記<br/></p>
</div>

  <div>
    <h2>押さえておきたい書籍</h2>
    <a href="http://www.amazon.co.jp/gp/product/B00YJGMAMC/ref=as_li_qf_sp_asin_il?ie=UTF8&camp=247&creative=1211&creativeASIN=B00YJGMAMC&linkCode=as2&tag=morizyun00-22"><img border="0" src="http://ws.assoc-amazon.jp/widgets/q?_encoding=UTF8&ASIN=B00YJGMAMC&Format=_SL160_&ID=AsinImage&MarketPlace=JP&ServiceVersion=20070822&WS=1&tag=morizyun00-22" ></a><img src="http://www.assoc-amazon.jp/e/ir?t=morizyun00-22&l=as2&o=9&a=B00YJGMAMC" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />
    <a href="http://www.amazon.co.jp/gp/product/4274217620/ref=as_li_qf_sp_asin_il?ie=UTF8&camp=247&creative=1211&creativeASIN=4274217620&linkCode=as2&tag=morizyun00-22"><img border="0" src="http://ws.assoc-amazon.jp/widgets/q?_encoding=UTF8&ASIN=4274217620&Format=_SL160_&ID=AsinImage&MarketPlace=JP&ServiceVersion=20070822&WS=1&tag=morizyun00-22" ></a><img src="http://www.assoc-amazon.jp/e/ir?t=morizyun00-22&l=as2&o=9&a=4274217620" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />
    <a href="http://www.amazon.co.jp/gp/product/4797347783/ref=as_li_qf_sp_asin_il?ie=UTF8&camp=247&creative=1211&creativeASIN=4797347783&linkCode=as2&tag=morizyun00-22"><img border="0" src="http://ws.assoc-amazon.jp/widgets/q?_encoding=UTF8&ASIN=4797347783&Format=_SL160_&ID=AsinImage&MarketPlace=JP&ServiceVersion=20070822&WS=1&tag=morizyun00-22" ></a><img src="http://www.assoc-amazon.jp/e/ir?t=morizyun00-22&l=as2&o=9&a=4797347783" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />
    <a href="http://www.amazon.co.jp/gp/product/4798138088/ref=as_li_qf_sp_asin_il?ie=UTF8&camp=247&creative=1211&creativeASIN=4798138088&linkCode=as2&tag=morizyun00-22"><img border="0" src="http://ws.assoc-amazon.jp/widgets/q?_encoding=UTF8&ASIN=4798138088&Format=_SL160_&ID=AsinImage&MarketPlace=JP&ServiceVersion=20070822&WS=1&tag=morizyun00-22" ></a><img src="http://www.assoc-amazon.jp/e/ir?t=morizyun00-22&l=as2&o=9&a=4798138088" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />
    <a href="http://www.amazon.co.jp/gp/product/4873117283/ref=as_li_qf_sp_asin_il?ie=UTF8&camp=247&creative=1211&creativeASIN=4873117283&linkCode=as2&tag=morizyun00-22"><img border="0" src="http://ws.assoc-amazon.jp/widgets/q?_encoding=UTF8&ASIN=4873117283&Format=_SL160_&ID=AsinImage&MarketPlace=JP&ServiceVersion=20070822&WS=1&tag=morizyun00-22" ></a><img src="http://www.assoc-amazon.jp/e/ir?t=morizyun00-22&l=as2&o=9&a=4873117283" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />
    <a href="http://www.amazon.co.jp/gp/product/4797382228/ref=as_li_qf_sp_asin_il?ie=UTF8&camp=247&creative=1211&creativeASIN=4797382228&linkCode=as2&tag=morizyun00-22"><img border="0" src="http://ws.assoc-amazon.jp/widgets/q?_encoding=UTF8&ASIN=4797382228&Format=_SL160_&ID=AsinImage&MarketPlace=JP&ServiceVersion=20070822&WS=1&tag=morizyun00-22" ></a><img src="http://www.assoc-amazon.jp/e/ir?t=morizyun00-22&l=as2&o=9&a=4797382228" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />
    <a href="http://www.amazon.co.jp/gp/product/B010N105SC/ref=as_li_qf_sp_asin_il?ie=UTF8&camp=247&creative=1211&creativeASIN=B010N105SC&linkCode=as2&tag=morizyun00-22"><img border="0" src="http://ws.assoc-amazon.jp/widgets/q?_encoding=UTF8&ASIN=B010N105SC&Format=_SL160_&ID=AsinImage&MarketPlace=JP&ServiceVersion=20070822&WS=1&tag=morizyun00-22" ></a><img src="http://www.assoc-amazon.jp/e/ir?t=morizyun00-22&l=as2&o=9&a=B010N105SC" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />
    <a href="http://www.amazon.co.jp/gp/product/B010CQD4Y0/ref=as_li_qf_sp_asin_il?ie=UTF8&camp=247&creative=1211&creativeASIN=B010CQD4Y0&linkCode=as2&tag=morizyun00-22"><img border="0" src="http://ws.assoc-amazon.jp/widgets/q?_encoding=UTF8&ASIN=B010CQD4Y0&Format=_SL160_&ID=AsinImage&MarketPlace=JP&ServiceVersion=20070822&WS=1&tag=morizyun00-22" ></a><img src="http://www.assoc-amazon.jp/e/ir?t=morizyun00-22&l=as2&o=9&a=B010CQD4Y0" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />
    <a href="http://www.amazon.co.jp/gp/product/4794968868/ref=as_li_qf_sp_asin_il?ie=UTF8&camp=247&creative=1211&creativeASIN=4794968868&linkCode=as2&tag=morizyun00-22"><img border="0" src="http://ws.assoc-amazon.jp/widgets/q?_encoding=UTF8&ASIN=4794968868&Format=_SL160_&ID=AsinImage&MarketPlace=JP&ServiceVersion=20070822&WS=1&tag=morizyun00-22" ></a><img src="http://www.assoc-amazon.jp/e/ir?t=morizyun00-22&l=as2&o=9&a=4794968868" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />
    <a href="http://www.amazon.co.jp/gp/product/4862462650/ref=as_li_qf_sp_asin_il?ie=UTF8&camp=247&creative=1211&creativeASIN=4862462650&linkCode=as2&tag=morizyun00-22"><img border="0" src="http://ws.assoc-amazon.jp/widgets/q?_encoding=UTF8&ASIN=4862462650&Format=_SL160_&ID=AsinImage&MarketPlace=JP&ServiceVersion=20070822&WS=1&tag=morizyun00-22" ></a><img src="http://www.assoc-amazon.jp/e/ir?t=morizyun00-22&l=as2&o=9&a=4862462650" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />
</div>
  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">morizyun</span></span>

      








  


<time datetime="2014-03-22T10:50:00+09:00" pubdate data-updated="true">Mar 22<span>nd</span>, 2014</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/analyze/'>Analyze</a>, <a class='category' href='/blog/categories/r/'>R</a>, <a class='category' href='/blog/categories/statistics/'>Statistics</a>
  
</span>


    </p>
    
      <div class="sharing social_box">
    <ul class="social" style="margin-left: 0;">
        <li class="hatena">
            
            <a href="http://b.hatena.ne.jp/entry/http://morizyun.github.io/blog/R-tips-Grammer-PG-language/" class="hatena-bookmark-button" data-hatena-bookmark-layout="standard" title="このエントリーをはてなブックマークに追加"><img src="http://b.st-hatena.com/images/entry-button/button-only.gif" alt="このエントリーをはてなブックマークに追加" width="20" height="20" style="border: none;" /></a><script type="text/javascript" src="http://b.st-hatena.com/js/bookmark_button.js" charset="utf-8" async="async"></script>
            
        </li>
        <li class="twitter">
            
                
                <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://morizyun.github.io/blog/R-tips-Grammer-PG-language/" data-via="zyunnosuke" data-counturl="http://morizyun.github.io/blog/R-tips-Grammer-PG-language/" >Tweet</a>
                
            
        </li>
        <li class="facebook">
            
            <div class="fb-like" data-send="false" data-layout="button_count" data-show-faces="false" data-font="verdana" data-href="http://morizyun.github.io/blog/R-tips-Grammer-PG-language/"></div>
            
        </li>
    </ul>
</div>
    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/easy-R-statistics-book-review/" title="Previous Post: 「Rによるやさしい統計学」で学ぶ R言語と統計学の基礎徹底解説 2-5章">&laquo; 「Rによるやさしい統計学」で学ぶ R言語と統計学の基礎徹底解説 2-5章</a>
      
      
        <a class="basic-alignment right" href="/blog/ginza-rb-web-service-development-support/" title="Next Post: 「第9回 Ginza.rb Web開発を取り巻くサービスの比較をしよう！」に行ってきたよ！">「第9回 Ginza.rb Web開発を取り巻くサービスの比較をしよう！」に行ってきたよ！ &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h5>
      いかがだったでしょうか？<br/>
      もし説明がわかりにくかったり、間違っている場所があればぜひ一言！
    </h5>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section style="margin: 20px 0 0 0;">
    <h1 style="margin: 0 0 10px 0;">勉強会を見つけやすく！</h1>
    <a href='http://meeting.blue' target='blank'><img src="https://farm4.staticflickr.com/3942/15511213577_e5c7a57333_n.jpg" width="256"></a>
</section>
<section style="margin: 20px 0 0 0;">
  <h1 style="margin: 0 0 10px 0;">RSSもあるよ</h1>
  <a href='http://cloud.feedly.com/#subscription%2Ffeed%2Fhttp%3A%2F%2Ffeeds.feedburner.com%2Frubyrails'  target='blank'><img id='feedlyFollow' src='http://s3.feedly.com/img/follows/feedly-follow-rectangle-volume-big_2x.png' alt='follow us in feedly' width='256' height='112'></a>
</section>
<section style="margin: 20px 0 0 0;">
    <h1 style="margin: 0 0 10px 0;">Rubyニュース</h1>
    <a href="http://www.facebook.com/pages/RailsRuby%E3%81%A7%E8%A9%B1%E9%A1%8C%E3%81%AB%E3%81%AA%E3%81%A3%E3%81%A6%E3%81%84%E3%82%8B%E8%A8%98%E4%BA%8B%E3%82%92%E3%81%BE%E3%81%A8%E3%82%81%E3%81%A6%E3%81%BE%E3%81%99-%E9%85%92%E3%81%A8%E6%B3%AA%E3%81%A8Ruby%E3%81%A8Rails%E3%81%A8/307988722650180?ref=hl"><img src="/images/ruby_news_banner.png" width="264" height="90" alt="facebook_page_banner"></a>
</section>
<section>
  <h1 style="margin-bottom: 10px;">Ruby on Rails人気記事</h1>
  <script language="javascript" type="text/javascript" src="http://b.hatena.ne.jp/js/widget.js" charset="utf-8"></script>
  <script language="javascript" type="text/javascript">
    Hatena.BookmarkWidget.url   = "http://morizyun.github.io/";
    Hatena.BookmarkWidget.title = "酒と泪とRubyとRailsと";
    Hatena.BookmarkWidget.sort  = "count";
    Hatena.BookmarkWidget.width = 0;
    Hatena.BookmarkWidget.num   = 10;
    Hatena.BookmarkWidget.theme = "notheme";
    Hatena.BookmarkWidget.load();
  </script>
</section>
<section style="margin: 20px 0 0 0;">
    <a class="twitter-timeline" href="https://twitter.com/zyunnosuke" data-widget-id="369007573455736833">@zyunnosuke からのツイート</a>
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
</section>
<section>
  <h1>About Me</h1>
  <div id="twitter-profile" style="margin-top:0.5em;">
    <p>
      <strong>morizyun</strong> 
      (<a href="http://twitter.com/zyunnosuke">@zyunnosuke</a>)
    </p>
    <p>Ruby on RailsはWebサービスのプロトタイプをスピーディに開発できることが特徴です。このRailをさらに有効活用するためのGemや、デザイン・パターン、アルゴリズムなどを積極的に発信していきます！</p>
  </div>
  <script type="text/javascript">
    $.domReady(function(){
        var container = $('#twitter-profile'),
            user = "zyunnosuke";
        
        function parseTwLinks(s) {
          var twUrl = "http://www.twitter.com/"
          s = s.replace(/ (@([\w]+))/g, function(match, p1, p2) {
              return " <a href='"+twUrl+p2+"'>"+p1+"</a>"
          }).replace(/ (#([\w]+))/g, function(match, p1, p2) {
              return " <a href='"+twUrl+"#!/search?q=%23"+p2+"'>"+p1+"</a>"
          })
          return s
        }

        $.ajax({
            url: "http://api.twitter.com/1/users/show.json?include_entities=false&screen_name="+user+"&callback=?"
          , type: 'jsonp'
          , error: function (err) { $('#twitter-profile').addClass('error');  }
          , success: function(data) {
              container.html('<img class="left" src="http://api.twitter.com/1/users/profile_image/'+user+'.json?size=bigger" alt="@'+user+'"><p><strong>'+data.name+'</strong> (<a href="http://twitter.com/'+user+'">@'+user+'</a>)<br/>'+data.location+'</p><p>'+parseTwLinks(data.description)+'</p>');
            }
        })
      });
  </script>
</section>


  
</aside>

<!-- Qualaroo for github.com -->
<!-- Paste this code right after the <body> tag on every page of your site. -->
<script type="text/javascript">var _kiq = _kiq || [];</script>
<script type="text/javascript" src="//s3.amazonaws.com/ki.js/46012/96Y.js" async="true"></script>
    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 - morizyun -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'morizyun';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://morizyun.github.io/blog/R-tips-Grammer-PG-language/';
        var disqus_url = 'http://morizyun.github.io/blog/R-tips-Grammer-PG-language/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/ja_JP/all.js#appId=183897648417956&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>





  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
