<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Bitbucket | 酒と泪とRubyとRailsと]]></title>
  <link href="http://morizyun.github.io/blog/categories/bitbucket/atom.xml" rel="self"/>
  <link href="http://morizyun.github.io/"/>
  <updated>2015-07-20T14:03:56+09:00</updated>
  <id>http://morizyun.github.io/</id>
  <author>
    <name><![CDATA[morizyun]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[いちばんやさしい新しいSEOの教本を読みました【書評】]]></title>
    <link href="http://morizyun.github.io/blog/most-easy-seo-instruction-book-review/"/>
    <updated>2015-01-02T22:35:00+09:00</updated>
    <id>http://morizyun.github.io/blog/most-easy-seo-instruction-book-review</id>
    <content type="html"><![CDATA[<p><a href="http://www.amazon.co.jp/gp/product/4844335359/ref=as_li_qf_sp_asin_il?ie=UTF8&camp=247&creative=1211&creativeASIN=4844335359&linkCode=as2&tag=morizyun00-22"><img border="0" src="http://ws.assoc-amazon.jp/widgets/q?_encoding=UTF8&ASIN=4844335359&Format=_SL160_&ID=AsinImage&MarketPlace=JP&ServiceVersion=20070822&WS=1&tag=morizyun00-22" width="150" style="float: left; margin: 0 20px 20px 0;" ></a><img src="http://www.assoc-amazon.jp/e/ir?t=morizyun00-22&l=as2&o=9&a=4844335359" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />
お仕事でSEO対策によるPV改善が必要になったので、上司から進めて頂いた『<strong><a href="http://www.amazon.co.jp/gp/product/4844335359/ref=as_li_qf_sp_asin_il?ie=UTF8&amp;camp=247&amp;creative=1211&amp;creativeASIN=4844335359&amp;linkCode=as2&amp;tag=morizyun00-22">いちばんやさしい新しいSEOの教本</a></strong>』を読みました。</p>

<p>感想としては内容もわかりやすくて、SEOに関する体系的な知識を獲得するのにすごくいい本だと思います！ちなみに、Kindle版はすき家の牛すき鍋定食よりも安いので、kindlerにもオススメです！</p>

<p>今回は、この中で特に参考になった点を中心にメモしていきます！</p>

<p>(2015-01-02 22:35) 書籍を読み直して加筆訂正</p>

<!-- more -->


<p><div>
  <script type="text/javascript"><!--
  google_ad_client = "ca-pub-4186413323075068";
  /* middle_yoko_naga2 */
  google_ad_slot = "4362325392";
  google_ad_width = 728;
  google_ad_height = 90;
  //-->
  </script>
  <script type="text/javascript"
          src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
  </script>
</div></p>

<h2>どんな目的の訪問者に来て欲しいページかを考える</h2>

<p>Googleは検索キーワードに対して、「<strong>最も多くのユーザーが見たいページ</strong>」をランキング付けしていている。逆の言い方をするとキーワードには「<strong>訪問者の目的</strong>」が込められていると言えます。それを前提として「<strong>どんな目的を持ったユーザーに来てほしいか</strong>」を考えて、タイトルやコンテンツを作っていく必要があります。</p>

<p>以下のようなフローでコンテンツを考えて、サイトを作りこむ必要があります。</p>

<pre>
  (1) 訪問者の目的
  (2) キーワードの選定
  (3) 検索結果に表示
  (4) コンテンツ準備
  (5) ページ内の行動
  (6) ページ・サイトの目的
</pre>


<h2>検索結果画面はサイトのトップページと考える</h2>

<p>検索結果画面はある意味でサイトのトップページと同等のものであるといえます。その前提に立って、ユーザーに魅力が伝わるようなタイトル、説明文にすべきです。</p>

<h2>ユーザーが検索するキーワードを使う</h2>

<p>Google のオートコンプリートの機能や、Googleのキーワード検索ツールなどを使って検索候補、検索ボリュームを調べる。そうすることで、訪問者が使う・知りたいキーワード・目的を意識したサイト作りができるようになります。</p>

<p><strong><a href="https://adwords.google.co.jp/KeywordPlanner">Google AdWords キーワード プランナー</a></strong></p>

<h2>Googleで検索されにくいニーズもある</h2>

<p>検索されやすいキーワードを選ぶことがとても大切！</p>

<pre>
検索されやすいニーズ => 羽田から成田への移動手段が知りたい
検索されづらいニーズ => 誕生日・イベントで最高の体験を提案するサービス
</pre>


<h2>中間階層のページ(カテゴリページ)を重視する</h2>

<p>中間階層のページ(カテゴリページ)は、地名などの定型のカテゴリと、独自カテゴリがある。独自カテゴリは人気キーワードに合わせて選定でき、競合が少なければSEOで優位に立つことができるので、重視すべき。また並び順も人気順にしたり、階層構造は人気キーワードを出来るだけ浅くする(Topに近づける)事が大切になる。また、検索したユーザーのニーズにマッチしたページになるようにカテゴリの粒度を調整するべき。</p>

<h2>メッシュ型のリンク構造にする</h2>

<p>Webページの階層構造で上から下へのリンクをはらないのではなく、どのページからみても上下、同列でリンクが貼れるようにすると、検索エンジンのクローラビリティが上がる。</p>

<p>メッシュ型のリンク構造において、重要となる要素は次の通り。ここでも人気順にすることが大切。</p>

<pre>
  (1) パンくずリスト
  (2) 下層へのディープリンク
  (3) 同列横階層への水平リンク
</pre>


<h2>細かい施策</h2>

<p>実例とともに出ていた細かい施策案です！</p>

<pre>
  (1) 細かくアイテムキーワードの対策を行う
  (2) ブランド名 x カテゴリの組み合わせ(クロスカテゴリ)のページを作る
  (3) トレンドワード、季節ワード、恒例イベント、有名スポットの対策ページを作る
  (4) ハウツーワードの対策ページを作る
  (5) エリアカテゴリや店舗単位のページを作る
</pre>


<h2>重複ページを作らないようにする</h2>

<p>一覧ページは、絞り込みや並べ替えなどのソートが別のURLになると、重複コンテンツとしてみなされる場合があるので、cannonicalタグなどを利用する。</p>

<h2>ターゲットとなる訪問者とそのキーワード</h2>

<p>ターゲットとなる訪問者はどんな人かを考えて、ターゲットとなる人が検索で使うであろうキーワードを書き出す。キーワードの検索ボリュームや競合度合いを調べて、対策しやすく、重要なキーワードにマッチするコンテンツを作っていく。</p>

<h2>リダイレクトがどうしても必要な場合</h2>

<p>リダイレクトはSEOへの影響があるため、できるだけ変更しないことが望ましい。どうしても変更が必要な場合は、301リダイレクトを用いる。リダイレクトを行ったら、以下の方法を用いてリダイレクトが成功していることを確認。</p>

<pre>
 (1) ChromeのDeveloper Toolなどでhttp statusを確認する
 (2) Googleの検索ボックスで cache:http://example.com/sample で検索。キャッシュされたURLが新URLと一致することを確認
</pre>


<h2>クロールバジェットについて</h2>

<p>サイト当たりに検索エンジンがクロールするページ数のことを『<strong>クロールバジェット</strong>』と呼ぶ。cannonicalを徹底して、重複を排除したり、削除したページを404にするなどが大切。</p>

<h2>PC用とスマートフォン用のページを別々に用意している場合</h2>

<p><strong><a href="https://developers.google.com/webmasters/mobile-sites/mobile-seo/overview/select-config?hl=ja">モバイル設定を選択する - ウェブマスター向けモバイルガイド</a></strong></p>

<p>Google はレスポンシブデザインを推奨しているそうだけど、ここまで明確に書かれているとは思わかなかったです。</p>

<h2>あとがき</h2>

<p><a href="http://www.amazon.co.jp/gp/product/B00IM7ZP4Y/ref=as_li_qf_sp_asin_il?ie=UTF8&camp=247&creative=1211&creativeASIN=B00IM7ZP4Y&linkCode=as2&tag=morizyun00-22"><img border="0" src="http://ws.assoc-amazon.jp/widgets/q?_encoding=UTF8&ASIN=B00IM7ZP4Y&Format=_SL160_&ID=AsinImage&MarketPlace=JP&ServiceVersion=20070822&WS=1&tag=morizyun00-22" width="150" style="float: left; margin: 0 20px 20px 0;" ></a><img src="http://www.assoc-amazon.jp/e/ir?t=morizyun00-22&l=as2&o=9&a=B00IM7ZP4Y" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />
SEOの書籍はこれまでいくつか読んできましたが、ここまで内容が具体的で充実している本はなかなかお目に書かれたことがなかったので、かなりありがたかったです！もし、興味があればすき家の牛すき鍋定食よりも安いので、kindleで是非読んでみてください！</p>

<br style="clear:both;"/>


<p><div>
  <script type="text/javascript"><!--
  google_ad_client = "ca-pub-4186413323075068";
  /* middle_yoko_naga2 */
  google_ad_slot = "4362325392";
  google_ad_width = 728;
  google_ad_height = 90;
  //-->
  </script>
  <script type="text/javascript"
          src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
  </script>
</div></p>

<h2>変更来歴</h2>

<p>(2014-12-31 19:00) 新規作成
(2015-01-02 22:35) 書籍を読み直して加筆訂正</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[OctopressでGitHub無料ブログ構築。sourceをBitbucket管理。簡単ガイド！]]></title>
    <link href="http://morizyun.github.io/blog/octopress-gitpage-minimum-install-guide/"/>
    <updated>2014-12-30T18:05:00+09:00</updated>
    <id>http://morizyun.github.io/blog/octopress-gitpage-minimum-install-guide</id>
    <content type="html"><![CDATA[<p><a href="http://www.amazon.co.jp/gp/product/4023308390/ref=as_li_qf_sp_asin_il?ie=UTF8&camp=247&creative=1211&creativeASIN=4023308390&linkCode=as2&tag=morizyun00-22"><img border="0" src="http://ws.assoc-amazon.jp/widgets/q?_encoding=UTF8&ASIN=4023308390&Format=_SL160_&ID=AsinImage&MarketPlace=JP&ServiceVersion=20070822&WS=1&tag=morizyun00-22" width="150" style="float: left; margin: 0 20px 20px 0;" ></a><img src="http://www.assoc-amazon.jp/e/ir?t=morizyun00-22&l=as2&o=9&a=4023308390" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />OctopressとGitHubホスティングで無料でブログを作る手順です。また、ソース情報はBitbucketで管理します。このスタイルのメリットは次の２つです。</p>

<pre>
* GitHubドメインはSEOでも優遇されている(気がするw)
* 自分の好きなエディタとGitコマンドだけで運用できる
* git管理なのでチームでブログを運用しやすい(と思う)
</pre>


<p>ということで、「なう」で「やんぐ」なギーク・ブログにレッツ・トライ！</p>

<p>(12-30 18:05) 最新版に合わせて全面改訂！</p>

<!-- more -->


<br style="clear:both;"/>


<p><div>
  <script type="text/javascript"><!--
  google_ad_client = "ca-pub-4186413323075068";
  /* middle_yoko_naga2 */
  google_ad_slot = "4362325392";
  google_ad_width = 728;
  google_ad_height = 90;
  //-->
  </script>
  <script type="text/javascript"
          src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
  </script>
</div></p>

<h2>目次</h2>

<p>OctopressをGitHubにホスティング、BitBucketを使ったソースコード管理までを構築する手順の目次は次の通りです。</p>

<pre>
(1) GitHubでのリポジトリ作成
(2) Octopressのソース取得
(3) GitHubへのdeploy設定
(4) Octopressのブログ初期設定
(5) Bitbucketでのリポジトリ作成/設定
(6) Octopressの記事作成
(7) Octopressのテーマ変更
(8) 独自ドメインの設定
(9) GitPageへの記事のアップ(deploy)
(10) BitbucketへのsourceのPush
おまけ：チームでブログを管理する方法
</pre>


<h2>(1) GitHubでのリポジトリ作成</h2>

<p><a href="https://github.com/">GitHub</a>にログインして、GitHubリポジトリを作成。
リポジトリ名は 「username.github.io」。<br/>
<strong>username</strong>のところには自分のユーザー名を入れてください。</p>

<p><a href="http://www.flickr.com/photos/84117399@N08/9530155878/" title="Create GitHub Repository"><img src="http://farm6.staticflickr.com/5546/9530155878_53c1769e33_z.jpg" width="640" height="368" alt="Create GitHub Repository"></a></p>

<h2>(2) Octopressのソース取得</h2>

<p>GitHubのOctopressリポジトリから、最新のOctopressのソースコードを取得。<br/>
(usernameのところには自分のユーザー名を入れてください)</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>git clone git@github.com:imathis/octopress.git username.github.io
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<h2>(3) GitHubへのdeploy設定</h2>

<p>bundlerとGemfile内のgemのインストール。</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nb">cd </span>username.github.io&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;h1&gt;bundlerが入っていない人向け、bundlerのインストール&lt;/h1&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;gem install bundler&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;h1&gt;Gemfileに書かれたgemをインストール&lt;/h1&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;bundle install --path vendor/bundle --jobs<span class="o">=</span>4&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;h1&gt;GitHub Pagesに表示するための設定&lt;/h1&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;bundle <span class="nb">exec </span>rake setup_github_pages
</span><span class='line'>Enter the <span class="nb">read</span>/write url <span class="k">for </span>your repository: git@github.com: username/username.github.com.git
</span><span class='line'>Repository url: <span class="c">#&amp;lt;= GitHubのリポジトリを登録</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<h2>(4) Octopressのブログ初期設定</h2>

<p>英語の記事ですが、<strong><a href="http://octopress.org/docs/configuring/">公式サイトのConfiguring Octopress</a></strong>にOctopressの各種設定についての説明があります。
この記事を参考にしつつ、Octopressのブログ初期設定をしてください。</p>

<p>ここでは、ブログのメイン設定を担当する<code>_config.yml</code>の設定項目の説明を翻訳しておきます。</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>url:                <span class="c"># RSSに記載するためのブログURL</span>
</span><span class='line'>title:              <span class="c"># HTMLのヘッダとタイトルタグに使うブログのタイトル</span>
</span><span class='line'>subtitle:           <span class="c"># HTMLのヘッダ部分に表示するブログのサブタイトル</span>
</span><span class='line'>author:             <span class="c"># コピーライトやメタタグなどに使うブログの著者情報</span>
</span><span class='line'>simple_search:      <span class="c"># ブログ内の検索機能におけるサーチエンジン</span>
</span><span class='line'>description:        <span class="c"># デフォルトのメタタグ内descriptionの内容</span>
</span><span class='line'>date_format:        <span class="c"># 日付のフォーマット(Ruby&#39;s date strftime syntax)</span>
</span><span class='line'>subscribe_rss:      <span class="c"># ブログのRSSのURL(デフォルトは /atom.xml)</span>
</span><span class='line'>subscribe_email:    <span class="c"># e-mailを使ったブログの購読のためのURL</span>
</span><span class='line'>category_feeds:     <span class="c"># カテゴリ単位でのRSSを許可するか？ (デフォルトはfalse)</span>
</span><span class='line'>email:              <span class="c"># RSSのためのメールアドレス(必要な場合のみ)</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<h2>(5) Bitbucketでのリポジトリ作成/設定</h2>

<p>BitBucketにログインして、ページ上部の「<strong>作成</strong>」からリポジトリを作成。</p>

<p><a href="https://bitbucket.org/repo/create" title="Bitbucket create new repository"><img src="http://farm9.staticflickr.com/8486/8213207229_b03ec7f47d_b.jpg" width="1024" height="594" alt="Bitbucket create new repository"></a></p>

<p><div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>git remote add bitbucket git@bitbucket.org:username/username.github.io.git
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<h2>(6) Octopressの記事作成</h2>

<p>以下のコマンドを実行。ここでのtitleはパーマネントリンクにも使われるので英語で。<br/>
(記事の中では日本語のタイトルをつける事ができます)</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>bundle <span class="nb">exec </span>rake new_post
</span><span class='line'>Enter a title <span class="k">for </span>your post: <span class="c">#&amp;lt;= postのタイトルを聞かれるので入力</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p><code>source/_post/YYYY-MM-DD-title.markdown</code>というファイルが出来上がります。</p>

<p>下は、作成されたファイルの初期状態です。</p>

<h2><div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">&lt;</span><span class="sr">/h2&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="sr">&lt;p&gt;layout: post</span>
</span><span class='line'><span class="sr">title: &quot;post title&quot;</span>
</span><span class='line'><span class="sr">date: YYYY-MM-DD hh:mm</span>
</span><span class='line'><span class="sr">comments: true&lt;/</span><span class="nb">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h2</span><span class="o">&gt;</span><span class="n">categories</span><span class="p">:</span> <span class="o">[</span><span class="n">category1</span><span class="p">,</span> <span class="o">.</span><span class="n">.</span><span class="o">.]&lt;</span><span class="sr">/h2&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="sr">&lt;p&gt;body....</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>日本とのタイトルを付けたい場合はここで、titleのところに日本語を入力してください。
あとは、Markdownなり、htmlなりで記事を作成。</p>

<p>以下の命令を実行して、ブラウザで<code>http://localhost:4000/</code>にアクセスすると、ローカルのプレビューを見ることができます。</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>rake preview
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<h2>(7) Octopressのテーマ変更</h2>

<p>次にOctopressのテーマをサードパーティ製のテーマを使って変更します。
テーマは下記サイトが見やすいのでオススメです！</p>

<p><strong><a href="https://github.com/imathis/octopress/wiki/3rd-Party-Octopress-Themes">3rd Party Octopress Themes · imathis/octopress Wiki</a></strong></p>

<p>今回は例として、テーマ名「oct2」を適用する手順を書いていきます。</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>git clone git@github.com:bijumon/oct2.git .themes/oct2
</span><span class='line'>bundle <span class="nb">exec </span>rake install<span class="o">[</span><span class="s1">&#39;oct2&#39;</span><span class="o">]</span>&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;h1&gt;<span class="o">=</span>&gt; 失敗する場合は、bundle <span class="nb">exec </span>rake install<span class="o">[</span><span class="s1">&#39;oct2&#39;</span><span class="o">]</span>&lt;/h1&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;A theme is already installed, proceeding will overwrite existing files. Are you sure? <span class="o">[</span>y/n<span class="o">]</span>&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;bundle <span class="nb">exec </span>rake preview
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<h2>(8) 独自ドメインの設定</h2>

<p>こちらは任意の設定で、独自ドメインを設定したい場合の手順です。
設定方法の説明は、<strong><a href="https://help.github.com/articles/setting-up-a-custom-domain-with-pages">公式の手順</a></strong>がやはり一番わかりやすいです。
一応今回はサブドメインでの設定方法を書いておきます。</p>

<p>まずは、DNS側(お名前.comやムームードメインなど)に以下のコードを設定。</p>

<p><img src="http://farm4.staticflickr.com/3785/10680037743_432d7a9d72_z.jpg" width="640" height="64" alt=""></p>

<p>次に、ローカル側で以下のコマンドを実行してCNAMEファイルを作成。<br/>
(<code>example.com</code>の部分は自分のドメイン名にして下さい)</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nb">echo</span> <span class="s1">&#39;example.com&#39;</span> &gt;&gt; <span class="nb">source</span>/CNAME
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<h2>(9) GitPageへの記事のアップ</h2>

<p>GitHub Pagesに記事をアップするために、deploy。</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>rake gen_deploy
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<h2>(10) BitbucketへのソースコードのPush</h2>

<p>最後にBitbucket側にソースコード管理のためにPush。</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>git add -A
</span><span class='line'>git commit <span class="s2">&quot;add post&quot;</span>
</span><span class='line'>git push -u bitbucket <span class="nb">source</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p><div>
  <script type="text/javascript"><!--
  google_ad_client = "ca-pub-4186413323075068";
  /* middle_yoko_naga2 */
  google_ad_slot = "4362325392";
  google_ad_width = 728;
  google_ad_height = 90;
  //-->
  </script>
  <script type="text/javascript"
          src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
  </script>
</div></p>

<h2>おまけ：チームでブログを管理する方法</h2>

<p>あるブログをチームで管理する事になったので、その手順も合わせて記載します。</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="o">(</span>1<span class="o">)</span> GitHubでリポジトリを開き、Settings <span class="o">=</span>&gt; Collaborators に共同管理者を追加
</span><span class='line'><span class="o">(</span>2<span class="o">)</span> Bitbucketのリポジトリのadmin<span class="o">(</span>設定マーク<span class="o">)</span> <span class="o">=</span>&gt; アクセス管理 <span class="o">=</span>&gt; 共同管理者を追加
</span><span class='line'><span class="o">(</span>3<span class="o">)</span> Bitbucketのリポジトリのデータを取得<span class="o">(</span>git clone<span class="o">)</span>
</span><span class='line'><span class="o">(</span>4<span class="o">)</span> bundle <span class="nb">exec </span>rake generate &amp;amp;&amp;amp; rake <span class="nv">preview</span> <span class="o">=</span>&gt; ブラウザでhttp://0.0.0.0:4000/を開く
</span><span class='line'><span class="o">(</span>5<span class="o">)</span> <span class="nb">source</span>/_post内のxxx.markdownファイルがブログ記事なので編集 <span class="o">=</span>&gt; ブラウザで表示確認
</span><span class='line'><span class="o">(</span>6<span class="o">)</span> 編集が完了したらターミナルで git add . &amp;amp;&amp;amp; git commit -m <span class="s2">&quot;set article&quot;</span> &amp;amp;&amp;amp; rake gen_deploy &amp;amp;&amp;amp; git push -u bitbucket <span class="nb">source</span> でデプロイ完了
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>ちなみにマークダウンの書き方はこちらがオススメ<br/>
<strong><a href="http://ja.wikipedia.org/wiki/Markdown">Markdown - Wikipedia</a></strong></p>

<h2>Special Thanks</h2>

<p><strong><a href="http://onigra.github.io/blog/2013/04/28/introduction-of-octopress/">【何番煎じ】OctopressとGitHub Pagesを使用したブログの構築手順 - nekogeruge</a></strong></p>

<p><strong><a href="http://tokkonopapa.github.com/blog/2011/12/30/octopress-on-github-and-bitbucket/">Octopressのインストールから運用管理まで</a></strong></p>

<p><strong><a href="http://tokkono.cute.coocan.jp/blog/slow/index.php/programming/github-pages-almost-perfect-guide/">GitHub Pagesホスティングサービス（ほぼ）完全活用ガイド</a></strong></p>

<h2>変更来歴</h2>

<p>(2012-11/07 15:00) 新規作成<br/>
(2013-08/18 17:15) 全面的に書き直し<br/>
(2013-11-06) 独自ドメインの設定方法と、チームでのブログ管理を追加<br/>
(12-30 18:05) 最新版に合わせて全面改訂！<br/></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[SSH認証キーをBitbucket/GitHubに設定しよう！ [Mac簡単手順]]]></title>
    <link href="http://morizyun.github.io/blog/ssh-key-bitbucket-github/"/>
    <updated>2014-04-11T22:30:00+09:00</updated>
    <id>http://morizyun.github.io/blog/ssh-key-bitbucket-github</id>
    <content type="html"><![CDATA[<p><a href="http://www.amazon.co.jp/gp/product/477415184X/ref=as_li_qf_sp_asin_il?ie=UTF8&camp=247&creative=1211&creativeASIN=477415184X&linkCode=as2&tag=morizyun00-22"><img border="0" src="http://ecx.images-amazon.com/images/I/51I5ZLcWDaL._SS500_.jpg" width="150" style="float: left; margin: 0 20px 20px 0;" ></a><img src="http://www.assoc-amazon.jp/e/ir?t=morizyun00-22&l=as2&o=9&a=477415184X" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />BitbucketやGitHubのGitリポジトリにアクセスではSSH認証キーを使うことができます。このSSH認証キーを使ったアクセスのメリットは次の通りです。</p>

<pre>
* Pushするときにいちいちパスワードを打つ必要がなくなる
* セキュリティが向上する
</pre>


<p>今回はMacでSSH認証のための公開鍵と秘密鍵を生成して、GitHubやBitbucketに公開鍵を登録して、SSHでアクセスできるようにするまでの設定手順をできるだけわかりやすく書いていきます。もし、詰まった点とかあればコメントお願いします！</p>

<p><strong>(04/11 22:30) 前回の修正でミスってた部分を修正</strong></p>

<!-- more -->


<p><div>
  <script type="text/javascript"><!--
  google_ad_client = "ca-pub-4186413323075068";
  /* middle_yoko_naga2 */
  google_ad_slot = "4362325392";
  google_ad_width = 728;
  google_ad_height = 90;
  //-->
  </script>
  <script type="text/javascript"
          src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
  </script>
</div></p>

<h2>流れ</h2>

<p>SSH認証キーの設定の流れは次の通りです。</p>

<pre>
(1) SSH認証の公開鍵と秘密鍵を作成
(2) Mac側(クライアント側)へのSSHキーの設定
(3) Bitbucketへの公開鍵の登録
(4) GitHubへの公開鍵の登録
</pre>


<h2>(1) SSH認証の公開鍵と秘密鍵を作成</h2>

<p>コンソールでssh keyを作成していきます。ここではのちのち躓くのをふぐためにパスフレーズを省略したSSH鍵を作成していきます。</p>

<p>こちらが作成の注意点。</p>

<pre>
* <code>test@example.com</code>の部分に自分のメアドを登録 
* 途中でパスフレーズ(passphrase)をきかれるが、Enterを押すだけ
</pre>


<p>コンソールでSSH Keyを作成するコマンドはこちら。</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nb">cd</span> ~/.ssh
</span><span class='line'>ssh-keygen -t rsa -C <span class="nb">test</span>@example.com
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>鍵の生成が完了したら2つのファイルができます。</p>

<pre>
id_rsa: 秘密鍵、他人には見られないようにする
id_rsa.pub: 公開鍵、Bitbucket/GitHubに渡す
</pre>


<p>秘密鍵の<code>id_rsa</code>のセキュリティを強化するために以下のコマンドを実行します。</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>chmod 600 id_rsa
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>鍵作成は以上です。</p>

<h2>(2) Mac側(クライアント側)へのSSHキーの設定</h2>

<p>鍵の管理を簡単にするために、~/.ssh/configに設定を追加します。</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>vim ~/.ssh/config
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>~/.ssh/configのファイルの末尾に以下の内容を追加してください。</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>Host bitbucket.org
</span><span class='line'>  HostName bitbucket.org
</span><span class='line'>  IdentityFile ~/.ssh/id_rsa
</span><span class='line'>  User git&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;Host github
</span><span class='line'>  HostName github.com
</span><span class='line'>  IdentityFile ~/.ssh/id_rsa
</span><span class='line'>  User git
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<h2>(3) Bitbucketへの公開鍵の登録</h2>

<p>ブラウザで<a href="https://bitbucket.org/">Bitbucket</a>にアクセスしてユーザー登録/ログインしてください。</p>

<p>トップページの右上の人のアイコン => Manage Accountをクリック。</p>

<p><a href="https://bitbucket.org/" title="bitbucket_header_menu_2012-11-24 by morizyun, on Flickr"><img src="http://farm9.staticflickr.com/8069/8213207153_50879c37ed_c.jpg" width="800" height="175" alt="bitbucket_header_menu_2012-11-24"></a></p>

<p>左側のメニューの「SSH keys」 => 「Add key」を選択。</p>

<p><a href="https://bitbucket.org/" title="bitbucket_add_ssh_key_20121124 by morizyun, on Flickr"><img src="http://farm9.staticflickr.com/8479/8214294928_b7a79830d1_c.jpg" width="800" height="190" alt="bitbucket_add_ssh_key_20121124"></a></p>

<p>ssh keyファイルをクリップボードにコピーするために、コンソールで以下のコマンドを実行。</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>pbcopy &amp;lt; ~/.ssh/id_rsa.pub
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Label名を管理しやすい名前で登録。bitbuketのkeyのフォームにクリップボードから貼り付け => add keyをクリック。</p>

<p><a href="https://bitbucket.org/" title="bitbucket_modal_add_ssh_key-20121124 by morizyun, on Flickr"><img src="http://farm9.staticflickr.com/8202/8213207075_babd9aa30e_c.jpg" width="800" height="501" alt="bitbucket_modal_add_ssh_key-20121124"></a></p>

<p>これで、ssh keyをbitbucketに登録できました。</p>

<h2>(4) GitHubへの公開鍵の登録</h2>

<p>ブラウザで<a href="https://github.com/">GitHub</a>にアクセスしてユーザー登録/ログインしてください。</p>

<p>トップページの右上の道具のアイコン(Account settings)をクリック。</p>

<p><a href="https://github.com/" title="github_header_menu_admin_2012-11-24 by morizyun, on Flickr"><img src="http://farm9.staticflickr.com/8061/8214294166_71123af65e_c.jpg" width="800" height="124" alt="github_header_menu_admin_2012-11-24"></a></p>

<p>左側のメニューの「SSH keys」 => 「Add key」を選択。</p>

<p><a href="https://github.com/" title="github_select_add_SSH_Keys_20121124 by morizyun, on Flickr"><img src="http://farm9.staticflickr.com/8061/8213206469_d7942a8593_c.jpg" width="800" height="445" alt="github_select_add_SSH_Keys_20121124"></a></p>

<p>フォームのTitleにssh keyの名前をセットして、コンソールで以下のコマンドを実行。</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>pbcopy &amp;lt; ~/.ssh/id_rsa.pub
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>このコマンドでコンソールからクリップボードにsshキーの中身がコピーされます。
そして、keyのところにクリップボードから貼り付け => add keyをクリック。</p>

<p><a href="https://github.com/)" title="github_set_SSH_Keys_20121124 by morizyun, on Flickr"><img src="http://farm9.staticflickr.com/8069/8213206275_87876d18d9_c.jpg" width="800" height="530" alt="github_set_SSH_Keys_20121124"></a></p>

<p>これで、ssh keyをGitHubに登録できました。</p>

<p><div>
  <script type="text/javascript"><!--
  google_ad_client = "ca-pub-4186413323075068";
  /* middle_yoko_naga2 */
  google_ad_slot = "4362325392";
  google_ad_width = 728;
  google_ad_height = 90;
  //-->
  </script>
  <script type="text/javascript"
          src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
  </script>
</div></p>

<h2>補足: GitHubで複数アカウントにssh接続するための手順</h2>

<p>GitHubで複数アカウントを持っていて、CUIで使い分けるための手順が<strong><a href="http://dev.classmethod.jp/tool/github-ssh-sub-account-setting/">クラスメソッドさんのブログ</a></strong>の中にありました。よければぜひご検討ください！</p>

<h2>補足: SSH鍵/フォルダのパーミッション</h2>

<p>毎回忘れるのでメモ。</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>chmod 700 ~/.ssh
</span><span class='line'>chmod 600 ~/.ssh/id_rsa
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<h2>このテーマに関連するオススメ本</h2>

<p><a href="http://www.amazon.co.jp/gp/product/477415184X/ref=as_li_qf_sp_asin_il?ie=UTF8&camp=247&creative=1211&creativeASIN=477415184X&linkCode=as2&tag=morizyun00-22"><img border="0" src="http://ecx.images-amazon.com/images/I/51I5ZLcWDaL._SS500_.jpg" width="150" style="float: left; margin: 0 20px 20px 0;" ></a><img src="http://www.assoc-amazon.jp/e/ir?t=morizyun00-22&l=as2&o=9&a=477415184X" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" /><strong><a href="http://www.amazon.co.jp/gp/product/477415184X/ref=as_li_qf_sp_asin_il?ie=UTF8&amp;camp=247&amp;creative=1211&amp;creativeASIN=477415184X&amp;linkCode=as2&amp;tag=morizyun00-22">Git ポケットリファレンス</a></strong>はGitやGitHubでの開発をする際に机の上においておくとほんとうに役に立ちます。特に本の中のチートシートが便利です！</p>

<pre>
* Git作業フロー&コマンド チートシート
* GitHub作業フロー&コマンド・設定 チートシート
</pre>


<p>このチートシートだけでもこの本を買う価値は十二分にあります！</p>

<h2>Special Thanks</h2>

<p><strong><a href="https://twitter.com/ironsand/">テツさん</a></strong>にコメントを頂いて、記述ミスを修正出来ました。ほんとうに有難いです！</p>

<p><a href="http://www.pistolfly.jp/weblog/2007/02/ssh.html">SSHで公開鍵認証を使う</a></p>

<h2>変更来歴</h2>

<p>12/12/06 17:45 メモ：パスフレーズ入力の省略を追加<br/>
12/12/12 21:00 メモ: SSH鍵/フォルダのパーミッションを追加<br/>
13/05/06 17:30 フォルダ名の記述ミスを修正<br/>
13/08/19 17:00 記述ミスが散見されたため、書き直し
14/01/25 13:30 わかりにくかった部分をヒアリングして書き直し
14/04/11 22:30 前回の修正でミスってた部分を修正</p>
]]></content>
  </entry>
  
</feed>
